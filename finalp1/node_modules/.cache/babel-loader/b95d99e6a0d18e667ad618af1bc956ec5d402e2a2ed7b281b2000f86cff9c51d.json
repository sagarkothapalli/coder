{"ast":null,"code":"import _objectSpread from\"/Users/anandsagar/coffeproject/attendance-tracker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Subject=_ref=>{let{subject,onUpdate,onDelete}=_ref;const{name,totalClasses,attendedClasses,canceledClasses}=subject;const[isEditing,setIsEditing]=useState(false);const[newTotalClasses,setNewTotalClasses]=useState(totalClasses);const calculatePercentage=()=>{const effectiveTotal=totalClasses-canceledClasses;if(effectiveTotal<=0){return 0;}return(attendedClasses/effectiveTotal*100).toFixed(2);};const handleSave=()=>{onUpdate(_objectSpread(_objectSpread({},subject),{},{totalClasses:parseInt(newTotalClasses,10)}));setIsEditing(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"subject-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:name}),isEditing?/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Total Classes\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newTotalClasses,onChange:e=>setNewTotalClasses(e.target.value)})]}):/*#__PURE__*/_jsxs(\"p\",{children:[\"Attended: \",attendedClasses,\" / \",totalClasses-canceledClasses]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Canceled: \",canceledClasses]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Attendance: \",calculatePercentage(),\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"subject-actions\",children:isEditing?/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,children:\"Save\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onUpdate(_objectSpread(_objectSpread({},subject),{},{attendedClasses:attendedClasses+1})),children:\"+ Attended\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onUpdate(_objectSpread(_objectSpread({},subject),{},{canceledClasses:canceledClasses+1})),children:\"+ Canceled\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(true),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:()=>onDelete(subject.id),children:\"Delete\"})]})})]});};export default Subject;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Subject","_ref","subject","onUpdate","onDelete","name","totalClasses","attendedClasses","canceledClasses","isEditing","setIsEditing","newTotalClasses","setNewTotalClasses","calculatePercentage","effectiveTotal","toFixed","handleSave","_objectSpread","parseInt","className","children","type","value","onChange","e","target","onClick","id"],"sources":["/Users/anandsagar/coffeproject/attendance-tracker/src/components/Subject.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst Subject = ({ subject, onUpdate, onDelete }) => {\n  const { name, totalClasses, attendedClasses, canceledClasses } = subject;\n  const [isEditing, setIsEditing] = useState(false);\n  const [newTotalClasses, setNewTotalClasses] = useState(totalClasses);\n\n  const calculatePercentage = () => {\n    const effectiveTotal = totalClasses - canceledClasses;\n    if (effectiveTotal <= 0) {\n      return 0;\n    }\n    return ((attendedClasses / effectiveTotal) * 100).toFixed(2);\n  };\n\n  const handleSave = () => {\n    onUpdate({ ...subject, totalClasses: parseInt(newTotalClasses, 10) });\n    setIsEditing(false);\n  };\n\n  return (\n    <div className=\"subject-card\">\n      <h3>{name}</h3>\n      {isEditing ? (\n        <div className=\"form-group\">\n          <label>Total Classes</label>\n          <input\n            type=\"number\"\n            value={newTotalClasses}\n            onChange={(e) => setNewTotalClasses(e.target.value)}\n          />\n        </div>\n      ) : (\n        <p>\n          Attended: {attendedClasses} / {totalClasses - canceledClasses}\n        </p>\n      )}\n      <p>Canceled: {canceledClasses}</p>\n      <p>Attendance: {calculatePercentage()}%</p>\n      <div className=\"subject-actions\">\n        {isEditing ? (\n          <button onClick={handleSave}>Save</button>\n        ) : (\n          <>\n            <button onClick={() => onUpdate({ ...subject, attendedClasses: attendedClasses + 1 })}>\n              + Attended\n            </button>\n            <button onClick={() => onUpdate({ ...subject, canceledClasses: canceledClasses + 1 })}>\n              + Canceled\n            </button>\n            <button onClick={() => setIsEditing(true)}>Edit</button>\n            <button className=\"delete\" onClick={() => onDelete(subject.id)}>\n              Delete\n            </button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Subject;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}