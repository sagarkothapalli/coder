{"ast":null,"code":"import React from'react';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,PieChart,Pie,Cell,ResponsiveContainer}from'recharts';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=_ref=>{let{subjects,onBack}=_ref;// --- Data Processing for Charts ---\n// Overall Attendance Data (for Pie Chart)\nconst totalAttended=subjects.reduce((acc,sub)=>acc+sub.attendedClasses,0);const totalEffectiveClasses=subjects.reduce((acc,sub)=>acc+(sub.totalClasses-sub.canceledClasses),0);const overallAttendanceData=[{name:'Attended',value:totalAttended},{name:'Missed',value:totalEffectiveClasses-totalAttended}];const COLORS=['#0088FE','#FF8042'];// Subject-wise Attendance Data (for Bar Chart)\nconst subjectAttendanceData=subjects.map(sub=>{const effectiveTotal=sub.totalClasses-sub.canceledClasses;const percentage=effectiveTotal>0?(sub.attendedClasses/effectiveTotal*100).toFixed(2):0;return{name:sub.name,percentage:parseFloat(percentage)};});return/*#__PURE__*/_jsxs(\"div\",{className:\"attendance-tracker\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,children:\"Back to Subjects\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-charts\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Overall Attendance\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:overallAttendanceData,cx:\"50%\",cy:\"50%\",labelLine:false,outerRadius:80,fill:\"#8884d8\",dataKey:\"value\",label:_ref2=>{let{name,percent}=_ref2;return\"\".concat(name,\": \").concat((percent*100).toFixed(0),\"%\");},children:overallAttendanceData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{})]})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Subject-wise Attendance (%)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:subjectAttendanceData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"percentage\",fill:\"#82ca9d\"})]})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","PieChart","Pie","Cell","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","subjects","onBack","totalAttended","reduce","acc","sub","attendedClasses","totalEffectiveClasses","totalClasses","canceledClasses","overallAttendanceData","name","value","COLORS","subjectAttendanceData","map","effectiveTotal","percentage","toFixed","parseFloat","className","children","onClick","width","height","data","cx","cy","labelLine","outerRadius","fill","dataKey","label","_ref2","percent","concat","entry","index","length","strokeDasharray"],"sources":["/Users/anandsagar/coffeproject/attendance-tracker/src/components/Dashboard.js"],"sourcesContent":["import React from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell, ResponsiveContainer } from 'recharts';\n\nconst Dashboard = ({ subjects, onBack }) => {\n  // --- Data Processing for Charts ---\n\n  // Overall Attendance Data (for Pie Chart)\n  const totalAttended = subjects.reduce((acc, sub) => acc + sub.attendedClasses, 0);\n  const totalEffectiveClasses = subjects.reduce((acc, sub) => acc + (sub.totalClasses - sub.canceledClasses), 0);\n  const overallAttendanceData = [\n    { name: 'Attended', value: totalAttended },\n    { name: 'Missed', value: totalEffectiveClasses - totalAttended },\n  ];\n  const COLORS = ['#0088FE', '#FF8042'];\n\n  // Subject-wise Attendance Data (for Bar Chart)\n  const subjectAttendanceData = subjects.map(sub => {\n    const effectiveTotal = sub.totalClasses - sub.canceledClasses;\n    const percentage = effectiveTotal > 0 ? ((sub.attendedClasses / effectiveTotal) * 100).toFixed(2) : 0;\n    return {\n      name: sub.name,\n      percentage: parseFloat(percentage),\n    };\n  });\n\n  return (\n    <div className=\"attendance-tracker\">\n      <header>\n        <h2>Dashboard</h2>\n        <button onClick={onBack}>Back to Subjects</button>\n      </header>\n\n      <div className=\"dashboard-charts\">\n        <h3>Overall Attendance</h3>\n        <ResponsiveContainer width=\"100%\" height={300}>\n          <PieChart>\n            <Pie\n              data={overallAttendanceData}\n              cx=\"50%\"\n              cy=\"50%\"\n              labelLine={false}\n              outerRadius={80}\n              fill=\"#8884d8\"\n              dataKey=\"value\"\n              label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(0)}%`}\n            >\n              {overallAttendanceData.map((entry, index) => (\n                <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n              ))}\n            </Pie>\n            <Tooltip />\n          </PieChart>\n        </ResponsiveContainer>\n\n        <h3>Subject-wise Attendance (%)</h3>\n        <ResponsiveContainer width=\"100%\" height={300}>\n          <BarChart data={subjectAttendanceData}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"name\" />\n            <YAxis />\n            <Tooltip />\n            <Legend />\n            <Bar dataKey=\"percentage\" fill=\"#82ca9d\" />\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}